<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Vue d&rsquo;ensemble Une solution processing contiendra
 La déclaration de variables globales (visibles dans tous les blocs) Le setup Le draw Les fonctions de réaction aux inputs pertinantes (mousePressed, keyPressed, etc."><title>Structurer une solution processing</title><meta name=viewport content="width=device-width,initial-scale=1"><script src=https://kit.fontawesome.com/251a44bd88.js crossorigin=anonymous></script>
<link rel="shortcut icon" type=image/png href=https://mnnlgrnd.github.io/stic//icon.png><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Sans+Pro:wght@400;600;700&family=Fira+Code:wght@400;700&display=swap" rel=stylesheet><link href=https://mnnlgrnd.github.io/stic/styles.7253b23d01224b1ffcae6d4ea098bbc7.min.css rel=stylesheet><script src=https://mnnlgrnd.github.io/stic/js/darkmode.46b07878b7f5d9e26ad7a3c40f8a0605.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://mnnlgrnd.github.io/stic/js/popover.688c5dcb89a57776d7f1cbeaf6f7c44b.min.js></script>
<script>const BASE_URL="https://mnnlgrnd.github.io/stic/",fetchData=Promise.all([fetch("https://mnnlgrnd.github.io/stic/indices/linkIndex.b43cc99e6fbed95dbdc73ebd16612874.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://mnnlgrnd.github.io/stic/indices/contentIndex.72b4a0c66626d1072ebadef44a758dc4.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),draw=()=>{const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(draw);e.textContent="",drawGraph("https://mnnlgrnd.github.io/stic",[{"/moc":"#4388cc"}],-1,!0,!1,!0),renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/mnnlgrnd.github.io\/stic\/js\/router.9a6d7a1d38ca8b3310438bee1998ae15.min.js"
    attachSPARouting(draw)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://mnnlgrnd.github.io/stic/js/search.1d58f2d3eaac68cc50beeb118d91edc9.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://mnnlgrnd.github.io/stic/>Algorithmes et Programmation</a></h1><svg tabindex="0" id="search-icon" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg><div class=spacer></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Structurer une solution processing</h1><p class=meta>Last updated July 8, 2022</p><ul class=tags></ul><table class=class-nav><tr><td align=left></td><td align=right></td></tr></table><aside class=mainTOC><details><summary>Sommaire</summary><nav id=TableOfContents><ol><li><a href=#vue-densemble>Vue d&rsquo;ensemble</a></li><li><a href=#etat-et-données>Etat et données</a><ol><li><a href=#constantes>Constantes</a></li><li><a href=#déterminer-les-informations-nécessaires>Déterminer les informations nécessaires</a></li><li><a href=#evolution-des-données>Evolution des données</a></li></ol></li><li><a href=#initialisation>Initialisation</a></li><li><a href=#boucle-principale>Boucle principale</a></li><li><a href=#réactions-aux-entrées>Réactions aux entrées</a></li><li><a href=#fonctions-et-classes>Fonctions et classes</a></li><li><a href=#conseils-généraux>Conseils généraux</a></li><li><a href=#exemple>Exemple</a></li></ol></nav></details></aside><a href=#vue-densemble><h2 id=vue-densemble><span class=hanchor arialabel=Anchor># </span>Vue d&rsquo;ensemble</h2></a><p>Une solution
<a href=/stic/cours/11-bases-processing/ rel=noopener class=internal-link data-src=/stic/cours/11-bases-processing/>processing</a> contiendra</p><ul><li>La déclaration de variables globales (visibles dans tous les
<a href=/stic/cours/07-blocs-contextes/ rel=noopener class=internal-link data-src=/stic/cours/07-blocs-contextes/>blocs</a>)</li><li>Le <code>setup</code></li><li>Le <code>draw</code></li><li>Les fonctions de réaction aux inputs pertinantes (<code>mousePressed</code>, <code>keyPressed</code>, etc.)</li><li>Des fonctions globales, utilitaires</li><li>Des classes</li></ul><p>Il est plus facile d&rsquo;écrire une classe dans un onglet spécifique pour cette classe, et, si le code devient trop long, de regrouper les différentes fonctions dans des onglets représentant des blocs logiques ou les parties constituantes du programme.</p><a href=#etat-et-données><h2 id=etat-et-données><span class=hanchor arialabel=Anchor># </span>Etat et données</h2></a><p>L&rsquo;<em>état</em> du code est l&rsquo;ensemble des informations (~ variables) qui permettent, à tout moment, de représenter le dessin et de le faire évoluer.</p><a href=#constantes><h3 id=constantes><span class=hanchor arialabel=Anchor># </span>Constantes</h3></a><p>Les
<a href=/stic/cours/01-variables-litteraux/ rel=noopener class=internal-link data-src=/stic/cours/01-variables-litteraux/>variables</a> <strong>constantes</strong> sont des valeurs qui ne changeront pas lors de l&rsquo;exécution du code, mais qui seront amenées à être utilisées régulièrement. On préfère ainsi voir apparaître ce genre de valeurs dans des variables constantes, pour pouvoir facilement les changer sans devoir reparcourir tout le code.</p><p>Lorsque ces variables sont bien nommées, elles peuvent également améliorer la lisibilité du code :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span> <span class=n>WON</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>PLAYING</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>LOST</span> <span class=o>=</span> <span class=o>-</span><span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>status</span> <span class=o>=</span> <span class=n>PLAYING</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ... Some code
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>(</span><span class=n>status</span> <span class=o>==</span> <span class=n>WON</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Do something if we won
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span> <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>status</span> <span class=o>==</span> <span class=n>LOST</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Do something else if we lost
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Continue playing
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#déterminer-les-informations-nécessaires><h3 id=déterminer-les-informations-nécessaires><span class=hanchor arialabel=Anchor># </span>Déterminer les informations nécessaires</h3></a><p>Les autres variables sont déterminées par ce dont nous avons besoin pour avoir le comportement voulu. Par exemple, si on veut dessiner une balle qui rebondit sur les bords de l&rsquo;écran, il faudra connaître les informations qui permettent de dessiner cette balle : ses coordonnées, sa taille, sa couleur, etc. Ce qu&rsquo;on peut voir comme une seule information doit parfois être stockée en plusieurs variables.</p><blockquote><p>⚠️ Il est <strong>difficile</strong> de réussir à déterminer toutes les variables dont on a besoin dès le début. C&rsquo;est seulement en avançant dans la solution et dans les fonctionnalités implémentées qu&rsquo;on se rend compte qu&rsquo;il manque des informations.</p></blockquote><a href=#evolution-des-données><h3 id=evolution-des-données><span class=hanchor arialabel=Anchor># </span>Evolution des données</h3></a><p>Les variables non constantes sont amenées à changer lors de l&rsquo;exécution du code. On peut distinguer deux types d&rsquo;évolution :</p><ul><li>L&rsquo;évolution naturelle (dans le <code>draw</code>)</li><li>L&rsquo;évolution forcée en réaction aux entrées clavier/souris de l&rsquo;utilisateur</li></ul><a href=#initialisation><h2 id=initialisation><span class=hanchor arialabel=Anchor># </span>Initialisation</h2></a><p>C&rsquo;est en général dans le <code>setup</code> qu&rsquo;on va initialiser l&rsquo;état, les valeurs initiales des données. On peut aussi y configurer certains paramètres globaux du dessin (largeur des lignes, etc.).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>size</span><span class=o>(</span><span class=n>800</span><span class=o>,</span> <span class=n>600</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Configuration globale du dessin
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>// Initialisation des données
</span></span></span><span class=line><span class=cl><span class=c1></span>	
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#boucle-principale><h2 id=boucle-principale><span class=hanchor arialabel=Anchor># </span>Boucle principale</h2></a><p>C&rsquo;est du <code>draw</code> que partira la majorité de la logique du code : la représentation, le dessin, et l&rsquo;évolution naturelle des données. L&rsquo;ordre des différentes mises à jour de données et des dessins dépendra du comportement voulu.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>draw</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>background</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Dessiner
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>// Faire évoluer les données
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#réactions-aux-entrées><h2 id=réactions-aux-entrées><span class=hanchor arialabel=Anchor># </span>Réactions aux entrées</h2></a><p>Il faudra définir les fonctions correspondant à toutes les entrées possibles pour le dessin et y ajouter la logique voulue. Cette logique est en général un changement dans l&rsquo;état des données qui aura un impact sur l&rsquo;évolution naturelle des données dans le <code>draw</code>.</p><p>On pourrait par exemple imaginer une voiture qui roule relativement vite sur une avenue dégagée. Le mouvement est continu, on ferait donc évoluer les informations de position dans le <code>draw</code>. Au loin, le conducteur aperçoit un feu de signalisation qui vient de passer orange. En <em>réaction</em> à ce <em>signal</em>, la position de la voiture ou sa vitesse ne va pas changer, mais le conducteur va appuyer sur le frein pour appliquer une décélaration qui fera diminuer la vitesse. Il faut donc en général concevoir les fonctions de réaction aux entrées comme une réaction ponctuelle à un signal sans directement appliquer la conséquence de cette réaction qui aura elle lieu dans le <code>draw</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>speed</span> <span class=o>=</span> <span class=n>10</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>acceleration</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>fullScreen</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=n>noStroke</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=n>fill</span><span class=o>(</span><span class=n>255</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>draw</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>background</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>ellipse</span><span class=o>(</span><span class=n>x</span><span class=o>,</span> <span class=n>height</span> <span class=o>/</span> <span class=n>2</span><span class=o>,</span> <span class=n>50</span><span class=o>,</span> <span class=n>50</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>speed</span> <span class=o>=</span> <span class=n>constrain</span><span class=o>(</span><span class=n>speed</span> <span class=o>+</span> <span class=n>acceleration</span><span class=o>,</span> <span class=o>-</span><span class=n>15</span><span class=o>,</span> <span class=n>30</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>x</span> <span class=o>+=</span> <span class=n>speed</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>keyPressed</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Signal, on appuie sur l&#39;accélérateur ou le frein
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// On ne modifie pas la vitesse directement
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=o>(</span><span class=n>keyCode</span> <span class=o>==</span> <span class=n>LEFT</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>acceleration</span> <span class=o>=</span> <span class=o>-</span><span class=n>1</span><span class=o>;</span>  
</span></span><span class=line><span class=cl>  <span class=o>}</span> <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>keyCode</span> <span class=o>==</span> <span class=n>RIGHT</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>acceleration</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>  
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>keyReleased</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Signal, on relâche l&#39;accélérateur ou le frein
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// On ne modifie pas la vitesse directement
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>acceleration</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#fonctions-et-classes><h2 id=fonctions-et-classes><span class=hanchor arialabel=Anchor># </span>Fonctions et classes</h2></a><p>L&rsquo;utilisation de
<a href=/stic/cours/06-fonctions/ rel=noopener class=internal-link data-src=/stic/cours/06-fonctions/>fonctions</a> et de
<a href=/stic/cours/09-classes/ rel=noopener class=internal-link data-src=/stic/cours/09-classes/>classes</a> n&rsquo;est fondamentalement pas obligatoire pour mettre au point une solution, mais on se prive alors de mécanismes précieux permettant de simplifier le code, de le rendre plus lisible, d&rsquo;éviter la redondance, etc.</p><p>Prenons par exemple un dessin où un personnage glisse sur le sol jusqu&rsquo;à rencontrer un obstacle, auquel cas il trouve une nouvelle direction &ldquo;libre&rdquo; et continue sa glissade. Le code suivant nous permet facilement de comprendre <em>ce que fait le dessin</em>. <em>Comment</em> le dessin est effectivement réalisé dépendra de la façon dont on aura défini et implémenté les différentes classes/fonctions.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>MyMap</span> <span class=n>map</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>MyCharacter</span> <span class=n>character</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>fullScreen</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>map</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Map</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=n>map</span><span class=o>.</span><span class=na>addRandomObstacles</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>character</span> <span class=o>=</span> <span class=k>new</span> <span class=n>MyCharacter</span><span class=o>(</span><span class=n>width</span> <span class=o>/</span> <span class=n>2</span><span class=o>,</span> <span class=n>height</span> <span class=o>/</span> <span class=n>2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>character</span><span class=o>.</span><span class=na>chooseRandomDirection</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>draw</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>background</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>map</span><span class=o>.</span><span class=na>display</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=n>character</span><span class=o>.</span><span class=na>display</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>character</span><span class=o>.</span><span class=na>move</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=o>(</span><span class=n>character</span><span class=o>.</span><span class=na>isFacingAnObstacle</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>character</span><span class=o>.</span><span class=na>changeDirection</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Il est parfois plus facile de concevoir directement la solution en orienté objet (&ldquo;je vais faire des objets Balle&rdquo;). Bien souvent, lorsque l&rsquo;on détermine les informations nécessaires, elles-mêmes sont déduites des concepts qui pourraient directement être traduits en classes.</p><a href=#conseils-généraux><h2 id=conseils-généraux><span class=hanchor arialabel=Anchor># </span>Conseils généraux</h2></a><ul><li>Aller à l&rsquo;essentiel, d&rsquo;abord faire fonctionner ce qu&rsquo;on veut puis seulement essayer d&rsquo;améliorer ou de simplifier</li><li>Isoler des fonctionnalités pour seulement ensuite les intégrer au code principal</li><li>Avancer petit à petit, ne pas essayer de tout faire en une fois</li><li><a href=/stic/tutoriels/debugger/ rel=noopener class=internal-link data-src=/stic/tutoriels/debugger/>Débugger</a>, via le debugger de processing ou en affichant en console ce qu&rsquo;il se passe, les valeurs, etc.</li></ul><a href=#exemple><h2 id=exemple><span class=hanchor arialabel=Anchor># </span>Exemple</h2></a><p>Un tutoriel processing (disponible ici) montrant comment réaliser le dessin d&rsquo;une balle qui part du centre de l&rsquo;écran vers une direction aléatoire, et rebondit sur les bords, est disponible ici :
<a href=http://oppr.org/s/JADVJw4f rel=noopener>http://oppr.org/s/JADVJw4f</a></p><table class=class-nav><tr><td align=left></td><td align=right></td></tr></table></article><hr><div class=page-end><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/stic/ data-ctx="Structurer une solution processing" data-src=/ class=internal-link>Algorithmes et Programmation</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://mnnlgrnd.github.io/stic/js/graph.5388a070919094961d3e5151252e9065.js></script></div></div><div id=contact_buttons><footer><p>Made by Manon Legrand using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2022</p><ul><li><a href=/stic>Home</a></li><li><a href=https://openprocessing.org/sketch/1592113>About me</a></li></ul></footer></div></div></body></html>