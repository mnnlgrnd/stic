<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Fenêtre La fenêtre de processing est un repère à deux dimensions dans lequel une coordonnée (x, y) correspond à un pixel."><title>12 - Dessins et géometrie</title><meta name=viewport content="width=device-width,initial-scale=1"><script src=https://kit.fontawesome.com/251a44bd88.js crossorigin=anonymous></script>
<link rel="shortcut icon" type=image/png href=https://mnnlgrnd.github.io/stic//icon.png><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Sans+Pro:wght@400;600;700&family=Fira+Code:wght@400;700&display=swap" rel=stylesheet><link href=https://mnnlgrnd.github.io/stic/styles.7253b23d01224b1ffcae6d4ea098bbc7.min.css rel=stylesheet><script src=https://mnnlgrnd.github.io/stic/js/darkmode.46b07878b7f5d9e26ad7a3c40f8a0605.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://mnnlgrnd.github.io/stic/js/popover.688c5dcb89a57776d7f1cbeaf6f7c44b.min.js></script>
<script>const BASE_URL="https://mnnlgrnd.github.io/stic/",fetchData=Promise.all([fetch("https://mnnlgrnd.github.io/stic/indices/linkIndex.d997906324acc4f65a30e85f2a1d9289.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://mnnlgrnd.github.io/stic/indices/contentIndex.c38bd60a4b0e32def7821c8b37946421.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),draw=()=>{const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(draw);e.textContent="",drawGraph("https://mnnlgrnd.github.io/stic",[{"/moc":"#4388cc"}],-1,!0,!1,!0),renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/mnnlgrnd.github.io\/stic\/js\/router.9a6d7a1d38ca8b3310438bee1998ae15.min.js"
    attachSPARouting(draw)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://mnnlgrnd.github.io/stic/js/search.1d58f2d3eaac68cc50beeb118d91edc9.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://mnnlgrnd.github.io/stic/>Algorithmes et Programmation</a></h1><svg tabindex="0" id="search-icon" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg><div class=spacer></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>12 - Dessins et géometrie</h1><p class=meta>Last updated July 1, 2022</p><ul class=tags></ul><table class=class-nav><tr><td align=left><a href=/stic/cours/11-bases-processing/ data-src=/stic/cours/11-bases-processing/><div class=class-link-container-left><div class=icon><span><i class="fas fa-chevron-left"></i></span></div><div class=header>Leçon précédente</div><div class=link>11 - Bases de Processing</div></div></a></td><td align=right><a href=/stic/cours/13-intlist-floatlist/ data-src=/stic/cours/13-intlist-floatlist/><div class=class-link-container-right><div class=icon><span><i class="fas fa-chevron-right"></i></span></div><div class=header>Leçon suivante</div><div class=link>13 - IntList et FloatList</div></div></a></td></tr></table><aside class=mainTOC><details><summary>Sommaire</summary><nav id=TableOfContents><ol><li><a href=#fenêtre>Fenêtre</a></li><li><a href=#dessins>Dessins</a><ol><li><a href=#couleurs>Couleurs</a></li><li><a href=#points-et-lignes>Points et lignes</a></li><li><a href=#rectangles>Rectangles</a></li><li><a href=#ellipses>Ellipses</a></li><li><a href=#textes>Textes</a></li></ol></li><li><a href=#transformations>Transformations</a><ol><li><a href=#translate><code>translate</code></a></li><li><a href=#rotate><code>rotate</code></a></li><li><a href=#scale><code>scale</code></a></li><li><a href=#pushmatrix-et-popmatrix><code>pushMatrix</code> et <code>popMatrix</code></a></li></ol></li><li><a href=#fonctions-utiles>Fonctions utiles</a><ol><li><a href=#distance-entre-deux-points>Distance entre deux points</a></li><li><a href=#intersections>Intersections</a><ol><li><a href=#entre-un-point-et-un-rectangle>Entre un point et un rectangle</a></li><li><a href=#entre-deux-rectangles>Entre deux rectangles</a></li><li><a href=#entre-un-point-et-un-cercle>Entre un point et un cercle</a></li><li><a href=#entre-deux-cercles>Entre deux cercles</a></li></ol></li></ol></li></ol></nav></details></aside><a href=#fenêtre><h2 id=fenêtre><span class=hanchor arialabel=Anchor># </span>Fenêtre</h2></a><p>La fenêtre de processing est un repère à deux dimensions dans lequel une coordonnée <em>(x, y)</em> correspond à un pixel. L&rsquo;axe horizontal, des x, croît de gauche à droite et l&rsquo;axe vertical, des y, croît de bas en haut. L&rsquo;origine <em>(0,0)</em> de ce repère est donc le coin supérieur gauche de la fenêtre.</p><p align=center><img src=/stic/images/grid-processing-dm.svg class="svg-dark-mode w-50">
<img src=/stic/images/grid-processing-lm.svg class="svg-light-mode w-50"></p><a href=#dessins><h2 id=dessins><span class=hanchor arialabel=Anchor># </span>Dessins</h2></a><a href=#couleurs><h3 id=couleurs><span class=hanchor arialabel=Anchor># </span>Couleurs</h3></a><p>Processing permet de travailler sur deux échelles de couleur différentes :</p><ul><li>En noir et blanc ; la couleur est alors une valeur entière entre 0 (noir) et 255 (blanc)</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span> <span class=n>black</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>middleGrey</span> <span class=o>=</span> <span class=n>122</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>white</span> <span class=o>=</span> <span class=n>255</span><span class=o>;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>En couleur ; la couleur est alors une valeur de type <code>color</code> contenant trois valeurs entières allant de 0 à 255 pour les composantes rouge, verte et bleue.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>color red = color(255, 0, 0);
</span></span><span class=line><span class=cl>color green = color(0, 255, 0);
</span></span><span class=line><span class=cl>color blue = color(0, 0, 255);
</span></span><span class=line><span class=cl>color black = color(0, 0, 0);
</span></span><span class=line><span class=cl>color white = color(255, 255, 255);
</span></span><span class=line><span class=cl>color someColor = color(13, 201, 154);
</span></span></code></pre></td></tr></table></div></div><p>On peut utiliser une couleur pour définir :</p><ul><li>La couleur du fond de la fenêtre via la fonction <code>background</code></li><li>La couleur des <em>traits</em> (lignes) via la fonction
<a href=https://processing.org/reference/stroke_.html rel=noopener><code>stroke</code></a></li><li>La couleur de <em>remplissage</em> des formes géométriques et du texte via la fonction
<a href=https://processing.org/reference/fill_.html rel=noopener><code>fill</code></a></li></ul><p>L&rsquo;appel à background remplit le fond avec la couleur passée en paramètre en <em>effaçant</em> tout ce qui a été dessiné jusqu&rsquo;à présent.</p><p>Quand on appelle
<a href=https://processing.org/reference/stroke_.html rel=noopener><code>stroke</code></a> ou
<a href=https://processing.org/reference/fill_.html rel=noopener><code>fill</code></a>, la couleur ne changera pas jusqu&rsquo;à ce qu&rsquo;on appelle à nouveau cette fonction avec une autre valeur.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>background</span><span class=o>(</span><span class=n>255</span><span class=o>);</span> <span class=c1>// Fond blanc
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>stroke</span><span class=o>(</span><span class=n>0</span><span class=o>);</span> <span class=c1>// A partir d&#39;ici, les traits sont noirs
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>fill</span><span class=o>(</span><span class=n>color</span><span class=o>(</span><span class=n>255</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>0</span><span class=o>));</span> <span class=c1>// A partir d&#39;ici, le remplissage est en rouge
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// On dessine
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>stroke</span><span class=o>(</span><span class=n>color</span><span class=o>(</span><span class=n>0</span><span class=o>,</span> <span class=n>255</span><span class=o>,</span> <span class=n>0</span><span class=o>));</span> <span class=c1>// A partir d&#39;ici, les traits sont verts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>fill</span><span class=o>(</span><span class=n>0</span><span class=o>);</span> <span class=c1>// A partir d&#39;ici, le remplissage est noir
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// On dessine d&#39;autres choses
</span></span></span></code></pre></td></tr></table></div></div><p>Alternativement, on peut aussi dire à processing de ne <em>pas</em> coloriser les traits ou le remplissage, en appelant respectivant
<a href=https://processing.org/reference/noStroke_.html rel=noopener><code>noStroke()</code></a> ou
<a href=https://processing.org/reference/noFill_.html rel=noopener><code>noFill()</code></a>.</p><p>Enfin, on peut également appliquer un certain niveau d&rsquo;opacité en rajoutant un paramètre aux appels de
<a href=https://processing.org/reference/stroke_.html rel=noopener><code>stroke</code></a> et
<a href=https://processing.org/reference/fill_.html rel=noopener><code>fill</code></a>. Ce paramètre est le niveau d&rsquo;opacité allant de 0 (complètement opaque) à 255 (complètement transparent).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>stroke</span><span class=o>(</span><span class=n>0</span><span class=o>,</span> <span class=n>122</span><span class=o>);</span> <span class=c1>// Trait noir à 50% d&#39;opacité
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>fill</span><span class=o>(</span><span class=n>color</span><span class=o>(</span><span class=n>255</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>0</span><span class=o>),</span> <span class=n>51</span><span class=o>);</span> <span class=c1>// Remplissage rouge à 20% d&#39;opacité
</span></span></span></code></pre></td></tr></table></div></div><a href=#points-et-lignes><h3 id=points-et-lignes><span class=hanchor arialabel=Anchor># </span>Points et lignes</h3></a><p>En processing, on peut dessiner un <em>point</em>, un pixel, grâce à la fonction
<a href=https://processing.org/reference/point_.html rel=noopener><code>point</code></a> qui prend en paramètre les coordonnées x et y du point.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>size</span><span class=o>(</span><span class=n>800</span><span class=o>,</span> <span class=n>600</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>background</span><span class=o>(</span><span class=n>255</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>stroke</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>point</span><span class=o>(</span><span class=n>10</span><span class=o>,</span> <span class=n>10</span><span class=o>);</span> <span class=c1>// Dessine un point noir en (10, 10)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>On peut dessiner une ligne grâce la fonction
<a href=https://processing.org/reference/line_.html rel=noopener><code>line</code></a> qui prend en paramètres les coordonnées des points aux deux extrémités de la ligne.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>size</span><span class=o>(</span><span class=n>800</span><span class=o>,</span> <span class=n>600</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>background</span><span class=o>(</span><span class=n>255</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>stroke</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>line</span><span class=o>(</span><span class=n>0</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>width</span><span class=o>,</span> <span class=n>height</span><span class=o>);</span> <span class=c1>// Dessine une ligne diagonale
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>line</span><span class=o>(</span><span class=n>width</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>height</span><span class=o>);</span> <span class=c1>// Dessine l&#39;autre ligne diagonale
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#rectangles><h3 id=rectangles><span class=hanchor arialabel=Anchor># </span>Rectangles</h3></a><p>On dessine des rectangles grâce à la fonction
<a href=https://processing.org/reference/rect_.html rel=noopener><code>rect</code></a> qui prend toujours 4 paramètres. Ce que <em>sont</em> ces paramètres dépend du mode de dessin des rectangles ; il existe 4 modes différents :</p><ul><li><code>CORNER</code> : on indique les coordonnées <em>(x, y)</em> du coin supérieur gauche, la largeur <em>w</em> et la hauteur <em>h</em> du rectangle</li><li><code>CORNERS</code> : on indique les coordonnées <em>(x1, y1)</em> d&rsquo;un coin et les coordonnées <em>(x2, y2)</em> du coin opposé</li><li><code>CENTER</code> : on indique les coordonnées <em>(x, y)</em> du centre du rectangle, la largeur <em>w</em> et la hauteur <em>h</em></li><li><code>RADIUS</code> : indique les coordonnées <em>(x, y)</em> du centre du rectangle, la moitié de la largeur <em>w</em> et la moitié de la hauteur <em>h</em></li></ul><p>On définit le mode de dessin en appelant la fonction
<a href=https://processing.org/reference/rectMode_.html rel=noopener><code>rectMode</code></a> avec le mode souhaité. Le mode <code>CORNER</code> est le mode par défaut.</p><p align=center><img src=/stic/images/rect-dm.svg class="svg-dark-mode w-75">
<img src=/stic/images/rect-lm.svg class="svg-light-mode w-75"></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>size</span><span class=o>(</span><span class=n>800</span><span class=o>,</span> <span class=n>600</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>background</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>stroke</span><span class=o>(</span><span class=n>255</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>fill</span><span class=o>(</span><span class=n>255</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Dessinons le même rectangle avec chaque mode
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=n>rectMode</span><span class=o>(</span><span class=n>CORNER</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>rect</span><span class=o>(</span><span class=n>20</span><span class=o>,</span> <span class=n>20</span><span class=o>,</span> <span class=n>100</span><span class=o>,</span> <span class=n>50</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>rectMode</span><span class=o>(</span><span class=n>CORNERS</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>rect</span><span class=o>(</span><span class=n>20</span><span class=o>,</span> <span class=n>20</span><span class=o>,</span> <span class=n>120</span><span class=o>,</span> <span class=n>70</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>rectMode</span><span class=o>(</span><span class=n>CENTER</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>rect</span><span class=o>(</span><span class=n>70</span><span class=o>,</span> <span class=n>45</span><span class=o>,</span> <span class=n>100</span><span class=o>,</span> <span class=n>50</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>rectMode</span><span class=o>(</span><span class=n>RADIUS</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>rect</span><span class=o>(</span><span class=n>70</span><span class=o>,</span> <span class=n>45</span><span class=o>,</span> <span class=n>50</span><span class=o>,</span> <span class=n>25</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Peu importe le mode, les informations à passer à la fonction pour dessiner un rectangle nous permettent toujours d&rsquo;obtenir toutes les autres informations du rectangle : les coordonnées de tous ses coins, de son centre, sa largeur et sa hauteur.</p><ul><li><p><code>CORNER</code>, soit les coordonnées <em>(x, y)</em> du coin supérieur gauche, la largeur <em>w</em> et la hauteur <em>h</em> :</p><ul><li>Le coin supérieur droit est <em>(x + w, y)</em></li><li>Le coin inférieur gauche est <em>(x, y + h)</em></li><li>Le coin inférieur droit est <em>(x + w, y + h)</em></li><li>Le centre du rectangle est <em>(x + w / 2, y + h / 2)</em></li></ul></li><li><p><code>CORNERS</code>, soit les coordonnées <em>(x1, y1)</em> du coin supérieur gauche et les coordonnées <em>(x2, y2)</em> du coin inférieur droit :</p><ul><li>Le coin supérieur droit est <em>(x2, y1)</em></li><li>Le coin inférieur gauche est <em>(x1, y2)</em></li><li>La largeur <em>w</em> est égale à <em>x2 - x1</em></li><li>La hauteur <em>h</em> est égale <em>y2 - y1</em></li><li>Le centre du rectangle est <em>(x1 + w / 2, y1 + h / 2)</em></li><li><em>Ces calculs peuvent s&rsquo;adapter en prenant d&rsquo;autres paires de coins opposés ; il faudra notamment prendre la valeur absolue de la largeur et de la hauteur.</em></li></ul></li><li><p><code>CENTER</code>, soit les coordonnées <em>(x, y)</em> du centre, la largeur <em>w</em> et la hauteur <em>h</em> :</p><ul><li>Le coin supérieur gauche est <em>(x - w / 2, y - w / 2)</em></li><li>Le coin supérieur droit est <em>(x + w / 2, y - h / 2)</em></li><li>Le coin inférieur gauche est <em>(x - w / 2, y + h / 2)</em></li><li>Le coin inférieur droit est <em>(x + w / 2, y + h / 2)</em></li></ul></li><li><p><code>RADIUS</code>, soit les coordonnées <em>(x, y)</em> du centre, la moitié de la largeur <em>w</em> et la moitié de la hauteur <em>h</em> :</p><ul><li>Le coin supérieur gauche est <em>(x - w, y - h)</em></li><li>Le coin supérieur droit est <em>(x + w, y - h)</em></li><li>Le coin inférieur gauche est <em>(x - h, y + h)</em></li><li>Le coin inférieur droit est <em>(x + w, y + h)</em></li><li>La largeur est égale à <em>2 * w</em></li><li>La hauteur est égale à <em>2 * h</em></li></ul></li></ul><a href=#ellipses><h3 id=ellipses><span class=hanchor arialabel=Anchor># </span>Ellipses</h3></a><p>On dessine des ellipses grâce à la fonction
<a href=https://processing.org/reference/ellipse_.html rel=noopener><code>ellipse</code></a> qui prend toujours 4 paramètres. Ce que <em>sont</em> ces paramètres dépend du mode de dessin des ellipses ; il existe 4 modes différents :</p><ul><li><code>CORNER</code> : on indique les coordonnées <em>(x, y)</em> du coin supérieur gauche, la largeur <em>w</em> et la hauteur <em>h</em> du rectangle qui &ldquo;encadre&rdquo; l&rsquo;ellipse à dessiner</li><li><code>CORNERS</code> : on indique les coordonnées <em>(x1, y1)</em> d&rsquo;un coin et les coordonnées <em>(x2, y2)</em> du coin opposé du rectangle qui &ldquo;encadre&rdquo; l&rsquo;ellipse à dessiner</li><li><code>CENTER</code> : on indique les coordonnées <em>(x, y)</em> du centre de l&rsquo;ellipse, la largeur <em>w</em> (diamiètre sur l&rsquo;axe horizontal) et la hauteur <em>h</em> (diamètre sur l&rsquo;axe vertical)</li><li><code>RADIUS</code> : indique les coordonnées <em>(x, y)</em> du centre de l&rsquo;ellipse, la moitié de la largeur <em>w</em> (rayon sur l&rsquo;axe horizontal) et la moitié de la hauteur <em>h</em> (rayon sur l&rsquo;axe vertical)</li></ul><p>On définit le mode de dessin en appelant la fonction
<a href=https://processing.org/reference/ellipseMode_.html rel=noopener><code>ellipseMode</code></a> avec le mode souhaité. Le mode <code>CENTER</code> est le mode par défaut.</p><p align=center><img src=/stic/images/ellipse-dm.svg class="svg-dark-mode w-75">
<img src=/stic/images/ellipse-lm.svg class="svg-light-mode w-75"></p><p>On remarque qu&rsquo;il s&rsquo;agit en fait exactement du même principe que pour les rectangles, sauf que le dessin concret sera l&rsquo;ellipse inscrite dans le rectangle défini par les paramètres.</p><p>Pour dessiner un cercle, il suffit d&rsquo;utiliser la même valeur pour la largeur et la hauteur.</p><a href=#textes><h3 id=textes><span class=hanchor arialabel=Anchor># </span>Textes</h3></a><p>Au-delà des formes géométriques, on peut également afficher du texte dans la fenêtre processing grâce à la fonction
<a href=https://processing.org/reference/text_.html rel=noopener><code>text</code></a> qui prend en paramètre une
<a href=/stic/cours/10-strings/ rel=noopener class=internal-link data-src=/stic/cours/10-strings/>chaîne de caractères</a> et les coordonnées <em>(x, y)</em> où placer ce texte.</p><p>On peut configurer l&rsquo;apparence du texte :</p><ul><li>Sa couleur, en appelant la fonction
<a href=https://processing.org/reference/fill_.html rel=noopener><code>fill</code></a> avec la couleur en paramètre</li><li>Sa taille, en appelant la fonction
<a href=https://processing.org/reference/textSize_.html rel=noopener><code>textSize</code></a> avec une taille en paramètre</li><li>Son alignment, par rapport aux coordonnées de sa position, en appelant la fonction
<a href=https://processing.org/reference/textAlign_.html rel=noopener><code>textAlign</code></a> avec un ou deux paramètres :<ul><li>L&rsquo;alignement horizontal, qui peut être <code>CENTER</code>, <code>LEFT</code> ou <code>RIGHT</code></li><li>L&rsquo;alignement vertical qui peut être <code>CENTER</code>, <code>BOTTOM</code>, <code>TOP</code> ou <code>BASELINE</code></li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>size</span><span class=o>(</span><span class=n>800</span><span class=o>,</span> <span class=n>600</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>background</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>fill</span><span class=o>(</span><span class=n>255</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>textSize</span><span class=o>(</span><span class=n>50</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>textAlign</span><span class=o>(</span><span class=n>CENTER</span><span class=o>,</span> <span class=n>CENTER</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>text</span><span class=o>(</span><span class=s>&#34;HELLO&#34;</span><span class=o>,</span> <span class=n>width</span> <span class=o>/</span> <span class=n>2</span><span class=o>,</span> <span class=n>height</span> <span class=o>/</span> <span class=n>2</span><span class=o>);</span> <span class=c1>// Affiche HELLO au milieu de la fenêtre
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#transformations><h2 id=transformations><span class=hanchor arialabel=Anchor># </span>Transformations</h2></a><a href=#translate><h3 id=translate><span class=hanchor arialabel=Anchor># </span><code>translate</code></h3></a><p>Comme expliqué précédemment, les dessins processing se basent sur l&rsquo;axe par défaut dont l&rsquo;origine est le coin supérieur gauche de la fenêtre. Il est toutefois possible de <em>déplacer</em> cette origine grâce à la fonction
<a href=https://processing.org/reference/translate_.html rel=noopener><code>translate</code></a> qui prend en paramètre le déplacement en <em>x</em> et en <em>y</em> à effectuer.</p><p align=center><img src=/stic/images/translate-dm.svg class="svg-dark-mode w-75">
<img src=/stic/images/translate-lm.svg class="svg-light-mode w-75"></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>size</span><span class=o>(</span><span class=n>800</span><span class=o>,</span> <span class=n>600</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>background</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>stroke</span><span class=o>(</span><span class=n>255</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>fill</span><span class=o>(</span><span class=n>255</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>rectMode</span><span class=o>(</span><span class=n>CENTER</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// L&#39;origine (0, 0) est le coin supérieur gauche
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// On va tracer un rectangle au milieu de l&#39;écran
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>rect</span><span class=o>(</span><span class=n>width</span> <span class=o>/</span> <span class=n>2</span><span class=o>,</span> <span class=n>height</span> <span class=o>/</span> <span class=n>2</span><span class=o>,</span> <span class=n>100</span><span class=o>,</span> <span class=n>100</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Equivalent en déplaçant l&#39;origine
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>translate</span><span class=o>(</span><span class=n>width</span> <span class=o>/</span> <span class=n>2</span><span class=o>,</span> <span class=n>height</span> <span class=o>/</span> <span class=n>2</span><span class=o>);</span> <span class=c1>// L&#39;origine (0, 0) est maintenant le centre de la fenêtre
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>rect</span><span class=o>(</span><span class=n>0</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>100</span><span class=o>,</span> <span class=n>100</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Si on réalisait par exemple un dessin à partir du centre de la fenêtre, comme plusieurs cercles concentriques, il serait bien plus facile de déplacer l&rsquo;origine au centre de la fenêtre et d&rsquo;ensuite simplement dessiner à partir de l&rsquo;origine.</p><a href=#rotate><h3 id=rotate><span class=hanchor arialabel=Anchor># </span><code>rotate</code></h3></a><p>De la même façon qu&rsquo;il est possible déplacer l&rsquo;origine des axes, on peut également <em>changer l&rsquo;orientation</em> des axes. Pour ce faire, on utilise la fonction
<a href=https://processing.org/reference/rotate_.html rel=noopener><code>rotate</code></a> en passant en paramètre l&rsquo;angle (en radians) de rotation à appliquer. Les axes tournent dans le sens horaire. On peut également transformer un angle en degré en radians grâce à la fonction
<a href=https://processing.org/reference/radians_.html rel=noopener><code>radians</code></a>.</p><p align=center><img src=/stic/images/rotate-dm.svg class="svg-dark-mode w-75">
<img src=/stic/images/rotate-lm.svg class="svg-light-mode w-75"></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>size</span><span class=o>(</span><span class=n>800</span><span class=o>,</span> <span class=n>600</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>background</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>stroke</span><span class=o>(</span><span class=n>255</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>fill</span><span class=o>(</span><span class=n>255</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>rectMode</span><span class=o>(</span><span class=n>CENTER</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>translate</span><span class=o>(</span><span class=n>width</span> <span class=o>/</span> <span class=n>2</span><span class=o>,</span> <span class=n>height</span> <span class=o>/</span> <span class=n>2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>rotate</span><span class=o>(</span><span class=n>radians</span><span class=o>(</span><span class=n>45</span><span class=o>));</span> <span class=c1>// Les axes tournent de 45° dans le sens horaire
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>rect</span><span class=o>(</span><span class=n>0</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>100</span><span class=o>,</span> <span class=n>100</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Pour facilement appliquer une rotation à une figure géométrique, il vaut mieux d&rsquo;abord déplacer l&rsquo;origine aux coordonnées du centre de la figure, puis d&rsquo;appliquer la rotation. Sinon, les calculs pour trouver les bonnes coordonnées deviennent assez compliqués.</p><a href=#scale><h3 id=scale><span class=hanchor arialabel=Anchor># </span><code>scale</code></h3></a><p>On peut augmenter ou diminuer la taille des dessins grâce la transformation
<a href=https://processing.org/reference/scale_.html rel=noopener><code>scale</code></a> qui prend en paramètre le pourcentage de &ldquo;zoom&rdquo;. Par exemple, <code>scale(2)</code> doublera la taille des figures.</p><a href=#pushmatrix-et-popmatrix><h3 id=pushmatrix-et-popmatrix><span class=hanchor arialabel=Anchor># </span><code>pushMatrix</code> et <code>popMatrix</code></h3></a><p>Si l&rsquo;on veut utiliser des transformations pour faciliter une partie de dessin, on peut se retrouver dans une situation où le nouveau système de coordonnées après cette partie ne convient pas du tout au reste du dessin. On pourrait envisager de refaire des transformations pour revenir à la situation précédente, mais l&rsquo;exercice peut être pénible.</p><p>Processing permet de sauvegarder l&rsquo;état du système de coordonnées grâce à la fonction
<a href=https://processing.org/reference/pushMatrix_.html rel=noopener><code>pushMatrix</code></a>. Au moment où on appelle cette fonction, l&rsquo;état actuel du système de coordonnées est ajouté sur une <em>stack</em>, une pile d&rsquo;états. Plus tard dans le code, en appelant la fonction
<a href=https://processing.org/reference/popMatrix_.html rel=noopener><code>popMatrix</code></a>, on récupère et rétablit le dernier état sauvegardé via
<a href=https://processing.org/reference/pushMatrix_.html rel=noopener><code>pushMatrix</code></a>. On peut ainsi <em>stacker</em> plusieurs états et les récupérer un à un.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>size</span><span class=o>(</span><span class=n>800</span><span class=o>,</span> <span class=n>600</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Etat par défaut : origine en haut à gauche
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>pushMatrix</span><span class=o>();</span> <span class=c1>// Je rajoute l&#39;état dans la stack
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=n>translate</span><span class=o>(</span><span class=n>10</span><span class=o>,</span> <span class=n>10</span><span class=o>);</span> <span class=c1>// L&#39;origine est maintenant (10, 10) selon l&#39;axe original
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>pushMatrix</span><span class=o>();</span> <span class=c1>// Je rajoute cet état dans la stack
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=n>translate</span><span class=o>(</span><span class=n>10</span><span class=o>,</span> <span class=n>10</span><span class=o>);</span> <span class=c1>// L&#39;origine est maintenant (20, 20) selon l&#39;axe original
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>// Dessins
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=n>popMatrix</span><span class=o>();</span> <span class=c1>// Je retire le dernier état de la stack et le rétablit
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// L&#39;origine est donc de nouveau (10, 10) selon l&#39;axe original
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>// Dessins
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=n>popMatrix</span><span class=o>();</span> <span class=c1>// Je retire le dernier état de la stack et le rétablit
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// L&#39;origine est donc de nouveau (0, 0)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>⚠ Lorsque l&rsquo;on réalise un dessin animé, toutes les transformations appliquées à l&rsquo;origne et aux axes sont réinitialisés au début de chaque frame. C&rsquo;est-à-dire que le dessin de chaque frame commence avec l&rsquo;origine (0, 0) étant le coin supérieur gauche, et pas d&rsquo;angle de rotation.</p></blockquote><a href=#fonctions-utiles><h2 id=fonctions-utiles><span class=hanchor arialabel=Anchor># </span>Fonctions utiles</h2></a><a href=#distance-entre-deux-points><h3 id=distance-entre-deux-points><span class=hanchor arialabel=Anchor># </span>Distance entre deux points</h3></a><p>Pour calculer la distance entre deux points, on peut simplement utiliser la fonction processing <code>dist</code>, qui prend les coordonnées de deux points en paramètre et renvoie la distance entre. On pourrait néanmoins facilement réécrire cette fonction</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>float</span> <span class=nf>distanceBetween</span><span class=o>(</span><span class=kt>float</span> <span class=n>x1</span><span class=o>,</span> <span class=kt>float</span> <span class=n>y1</span><span class=o>,</span> <span class=kt>float</span> <span class=n>x2</span><span class=o>,</span> <span class=kt>float</span> <span class=n>y2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>float</span> <span class=n>dx</span> <span class=o>=</span> <span class=n>x1</span> <span class=o>-</span> <span class=n>x2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>float</span> <span class=n>dy</span> <span class=o>=</span> <span class=n>y1</span> <span class=o>-</span> <span class=n>y2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>float</span> <span class=n>distance</span> <span class=o>=</span> <span class=n>sqrt</span><span class=o>(</span><span class=n>dx</span> <span class=o>*</span> <span class=n>dx</span> <span class=o>+</span> <span class=n>dy</span> <span class=o>*</span> <span class=n>dy</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>distance</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#intersections><h3 id=intersections><span class=hanchor arialabel=Anchor># </span>Intersections</h3></a><a href=#entre-un-point-et-un-rectangle><h4 id=entre-un-point-et-un-rectangle><span class=hanchor arialabel=Anchor># </span>Entre un point et un rectangle</h4></a><p>Un point se situe à l&rsquo;intérieur d&rsquo;un rectangle si ses coordonnées sont comprises entre les bords de ce rectangle.</p><p>On utilise le coin supérieur gauche du rectangle, la largeur et la hauteur du rectangle.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>boolean</span> <span class=nf>isPointInRect</span><span class=o>(</span><span class=kt>float</span> <span class=n>x</span><span class=o>,</span> <span class=kt>float</span> <span class=n>y</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                      <span class=kt>float</span> <span class=n>rx</span><span class=o>,</span> <span class=kt>float</span> <span class=n>ry</span><span class=o>,</span> <span class=kt>float</span> <span class=n>rw</span><span class=o>,</span> <span class=kt>float</span> <span class=n>rh</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>x</span> <span class=o>&gt;</span> <span class=n>rx</span> <span class=o>&amp;&amp;</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=n>rx</span><span class=o>+</span><span class=n>rw</span> <span class=o>&amp;&amp;</span>
</span></span><span class=line><span class=cl>         <span class=n>y</span> <span class=o>&gt;</span> <span class=n>ry</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>&lt;</span> <span class=n>ry</span><span class=o>+</span><span class=n>rh</span><span class=o>;</span>				  
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#entre-deux-rectangles><h4 id=entre-deux-rectangles><span class=hanchor arialabel=Anchor># </span>Entre deux rectangles</h4></a><p>Il y a intersection entre deux rectangles lorsque le coin supérieur gauche de chaque rectangle se situe plus haut et plus à gauche que le coin inférieur droit de l&rsquo;autre rectangle.</p><p>On utilise les coordonnées du coin supérieur gauche, la largeur et la hauteur de chaque rectangle.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>boolean</span> <span class=nf>isIntersectionRects</span><span class=o>(</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>x1</span><span class=o>,</span> <span class=kt>float</span> <span class=n>y1</span><span class=o>,</span> <span class=kt>float</span> <span class=n>w1</span><span class=o>,</span> <span class=kt>float</span> <span class=n>h1</span><span class=o>,</span> 
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>x2</span><span class=o>,</span> <span class=kt>float</span> <span class=n>y2</span><span class=o>,</span> <span class=kt>float</span> <span class=n>w2</span><span class=o>,</span> <span class=kt>float</span> <span class=n>h2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>x1</span> <span class=o>&lt;</span> <span class=n>x2</span><span class=o>+</span><span class=n>w2</span> <span class=o>&amp;&amp;</span> <span class=n>y1</span> <span class=o>&lt;</span> <span class=n>y2</span><span class=o>+</span><span class=n>h2</span> <span class=o>&amp;&amp;</span> 
</span></span><span class=line><span class=cl>         <span class=n>x2</span> <span class=o>&lt;</span> <span class=n>x1</span><span class=o>+</span><span class=n>w1</span> <span class=o>&amp;&amp;</span> <span class=n>y2</span> <span class=o>&lt;</span> <span class=n>y1</span><span class=o>+</span><span class=n>h1</span><span class=o>;</span>			 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#entre-un-point-et-un-cercle><h4 id=entre-un-point-et-un-cercle><span class=hanchor arialabel=Anchor># </span>Entre un point et un cercle</h4></a><p>Un point se situe à l&rsquo;intérieur d&rsquo;un cercle si la distance entre ce point et le centre du cercle est plus petite que le rayon du cercle</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>boolean</span> <span class=nf>isPointInCircle</span><span class=o>(</span><span class=kt>float</span> <span class=n>x</span><span class=o>,</span> <span class=kt>float</span> <span class=n>y</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                        <span class=kt>float</span> <span class=n>cx</span><span class=o>,</span> <span class=kt>float</span> <span class=n>cy</span><span class=o>,</span> <span class=kt>float</span> <span class=n>cr</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>float</span> <span class=n>dx</span> <span class=o>=</span> <span class=n>x</span> <span class=o>-</span> <span class=n>cx</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>float</span> <span class=n>dy</span> <span class=o>=</span> <span class=n>y</span> <span class=o>-</span> <span class=n>cy</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>float</span> <span class=n>distance</span> <span class=o>=</span> <span class=n>sqrt</span><span class=o>(</span><span class=n>dx</span> <span class=o>*</span> <span class=n>dx</span> <span class=o>+</span> <span class=n>dy</span> <span class=o>*</span> <span class=n>dy</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>distance</span> <span class=o>&lt;</span> <span class=n>cr</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#entre-deux-cercles><h4 id=entre-deux-cercles><span class=hanchor arialabel=Anchor># </span>Entre deux cercles</h4></a><p>Il y a intersection entre deux cercles si la distance entre les centres de ces cercles est plus petite que la somme de leur rayon.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>boolean</span> <span class=nf>isIntersectionCircles</span><span class=o>(</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>x1</span><span class=o>,</span> <span class=kt>float</span> <span class=n>y1</span><span class=o>,</span> <span class=kt>float</span> <span class=n>r1</span><span class=o>,</span> 
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>x2</span><span class=o>,</span> <span class=kt>float</span> <span class=n>y2</span><span class=o>,</span> <span class=kt>float</span> <span class=n>r2</span><span class=o>)</span> <span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=kt>float</span> <span class=n>dx</span> <span class=o>=</span> <span class=n>x1</span> <span class=o>-</span> <span class=n>x2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>float</span> <span class=n>dy</span> <span class=o>=</span> <span class=n>y1</span> <span class=o>-</span> <span class=n>y2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>float</span> <span class=n>distance</span> <span class=o>=</span> <span class=n>sqrt</span><span class=o>(</span><span class=n>dx</span> <span class=o>*</span> <span class=n>dx</span> <span class=o>+</span> <span class=n>dy</span> <span class=o>*</span> <span class=n>dy</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>distance</span> <span class=o>&lt;</span> <span class=n>r1</span> <span class=o>+</span> <span class=n>r2</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>ℹ Si on remplace <code>&lt;</code> et <code>></code> par <code>&lt;=</code> et <code>>=</code> dans les conditions ci-dessus, on considère alors qu&rsquo;il y a intersection si les bords se touchent ou si le point est sur le bord.</p></blockquote><table class=class-nav><tr><td align=left><a href=/stic/cours/11-bases-processing/ data-src=/stic/cours/11-bases-processing/><div class=class-link-container-left><div class=icon><span><i class="fas fa-chevron-left"></i></span></div><div class=header>Leçon précédente</div><div class=link>11 - Bases de Processing</div></div></a></td><td align=right><a href=/stic/cours/13-intlist-floatlist/ data-src=/stic/cours/13-intlist-floatlist/><div class=class-link-container-right><div class=icon><span><i class="fas fa-chevron-right"></i></span></div><div class=header>Leçon suivante</div><div class=link>13 - IntList et FloatList</div></div></a></td></tr></table></article><hr><div class=page-end><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/stic/ data-ctx="12 - Dessins et géométrie" data-src=/ class=internal-link>Algorithmes et Programmation</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://mnnlgrnd.github.io/stic/js/graph.5388a070919094961d3e5151252e9065.js></script></div></div><div id=contact_buttons><footer><p>Made by Manon Legrand using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2022</p><ul><li><a href=/stic>Home</a></li><li><a href=https://openprocessing.org/sketch/1592113>About me</a></li></ul></footer></div></div></body></html>