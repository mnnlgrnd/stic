<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Définition Processing permet de charger des fichiers tabulaires (csv) pour en manipuler les données, supprimer/rajouter des lignes, etc. Ces données sont stockées dans une table, représentée par la classe Table."><title>15 - Tables</title><meta name=viewport content="width=device-width,initial-scale=1"><script src=https://kit.fontawesome.com/251a44bd88.js crossorigin=anonymous></script>
<link rel="shortcut icon" type=image/png href=https://mnnlgrnd.github.io/stic//icon.png><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Sans+Pro:wght@400;600;700&family=Fira+Code:wght@400;700&display=swap" rel=stylesheet><link href=https://mnnlgrnd.github.io/stic/styles.7253b23d01224b1ffcae6d4ea098bbc7.min.css rel=stylesheet><script src=https://mnnlgrnd.github.io/stic/js/darkmode.46b07878b7f5d9e26ad7a3c40f8a0605.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://mnnlgrnd.github.io/stic/js/popover.688c5dcb89a57776d7f1cbeaf6f7c44b.min.js></script>
<script>const BASE_URL="https://mnnlgrnd.github.io/stic/",fetchData=Promise.all([fetch("https://mnnlgrnd.github.io/stic/indices/linkIndex.50033112df845f50a72eef6578ba0ed9.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://mnnlgrnd.github.io/stic/indices/contentIndex.c173d04a9916f3da086fc6e0883793a4.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),draw=()=>{const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(draw);e.textContent="",drawGraph("https://mnnlgrnd.github.io/stic",[{"/moc":"#4388cc"}],-1,!0,!1,!0),renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/mnnlgrnd.github.io\/stic\/js\/router.9a6d7a1d38ca8b3310438bee1998ae15.min.js"
    attachSPARouting(draw)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://mnnlgrnd.github.io/stic/js/search.1d58f2d3eaac68cc50beeb118d91edc9.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://mnnlgrnd.github.io/stic/>Algorithmes et Programmation</a></h1><svg tabindex="0" id="search-icon" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg><div class=spacer></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>15 - Tables</h1><p class=meta>Last updated July 2, 2022</p><ul class=tags></ul><table class=class-nav><tr><td align=left><a href=/stic/cours/14-images-pixels/ data-src=/stic/cours/14-images-pixels/><div class=class-link-container-left><div class=icon><span><i class="fas fa-chevron-left"></i></span></div><div class=header>Leçon précédente</div><div class=link>14 - Images et pixels</div></div></a></td><td align=right></td></tr></table><aside class=mainTOC><details><summary>Sommaire</summary><nav id=TableOfContents><ol><li><a href=#définition>Définition</a></li><li><a href=#chargement-création-et-sauvegarde>Chargement, création et sauvegarde</a><ol><li><a href=#chargement>Chargement</a></li><li><a href=#création>Création</a></li><li><a href=#sauvegarde>Sauvegarde</a></li></ol></li><li><a href=#manipulation>Manipulation</a><ol><li><a href=#lecture>Lecture</a></li><li><a href=#ecriture>Ecriture</a></li><li><a href=#tablerow><code>TableRow</code></a></li><li><a href=#structure>Structure</a></li><li><a href=#tri>Tri</a></li></ol></li></ol></nav></details></aside><a href=#définition><h2 id=définition><span class=hanchor arialabel=Anchor># </span>Définition</h2></a><p>Processing permet de charger des fichiers tabulaires (<code>csv</code>) pour en manipuler les données, supprimer/rajouter des lignes, etc. Ces données sont stockées dans une <em>table</em>, représentée par la classe
<a href=https://processing.org/reference/Table.html rel=noopener><code>Table</code></a>. On peut facilement se représenter de quoi il s&rsquo;agit en visualisant une feuille Excel. On peut aussi créer soi même des tables et les sauvegarder dans des fichiers.</p><a href=#chargement-création-et-sauvegarde><h2 id=chargement-création-et-sauvegarde><span class=hanchor arialabel=Anchor># </span>Chargement, création et sauvegarde</h2></a><a href=#chargement><h3 id=chargement><span class=hanchor arialabel=Anchor># </span>Chargement</h3></a><p>Pour charger une table depuis un fichier, il faut utiliser la fonction
<a href=https://processing.org/reference/loadTable_.html rel=noopener><code>loadTable</code></a>, avec, en paramètre, une
<a href=/stic/cours/10-strings/ rel=noopener class=internal-link data-src=/stic/cours/10-strings/>chaîne de caractères</a> contenant le chemin vers le fichier. La logique de chargement est similaire à celle des
<a href=/stic/cours/14-images-pixels/ rel=noopener class=internal-link data-src=/stic/cours/14-images-pixels/>images</a> ; le nom du fichier peut être un chemin relatif au sketch processing ou absolu, et on ne peut pas charger des tables avant le <code>setup</code>, s&rsquo;il y a en un.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Table</span> <span class=n>table</span> <span class=o>=</span> <span class=n>loadTable</span><span class=o>(</span><span class=s>&#34;data.csv&#34;</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><p>Lorsque l&rsquo;on charge une table depuis un fichier, il est possible que le fichier ait une première ligne représentant le nom des colonnes (comme dans un tableau Excel). Processing ne pouvant pas le deviner, il faut, quand c&rsquo;est le cas, spécifier qu&rsquo;on charge un fichier dont la première ligne contient les en-têtes, en rajoutant en paramètre la valeur <code>"header"</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Table</span> <span class=n>table</span> <span class=o>=</span> <span class=n>loadTable</span><span class=o>(</span><span class=s>&#34;data.csv&#34;</span><span class=o>,</span> <span class=s>&#34;header&#34;</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><a href=#création><h3 id=création><span class=hanchor arialabel=Anchor># </span>Création</h3></a><p>Pour créer une nouvelle table, vide, il suffit simplement d&rsquo;appeler le constructeur de la classe
<a href=https://processing.org/reference/Table.html rel=noopener><code>Table</code></a> avec le mot clé <code>new</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Table</span> <span class=n>newTable</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Table</span><span class=o>();</span>
</span></span></code></pre></td></tr></table></div></div><a href=#sauvegarde><h3 id=sauvegarde><span class=hanchor arialabel=Anchor># </span>Sauvegarde</h3></a><p>Pour sauvegarder le contenu d&rsquo;une table dans un fichier, il faut appeler la fonction
<a href=https://processing.org/reference/saveTable_.html rel=noopener><code>saveTable</code></a> avec en paramètres la table à sauvegarder, et le nom/chemin du fichier où la sauvegarder.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Table</span> <span class=n>table</span> <span class=o>=</span> <span class=n>loadTable</span><span class=o>(</span><span class=s>&#34;data.csv&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>saveTable</span><span class=o>(</span><span class=n>table</span><span class=o>,</span> <span class=s>&#34;renamedData.csv&#34;</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><a href=#manipulation><h2 id=manipulation><span class=hanchor arialabel=Anchor># </span>Manipulation</h2></a><a href=#lecture><h3 id=lecture><span class=hanchor arialabel=Anchor># </span>Lecture</h3></a><p>La classe
<a href=https://processing.org/reference/Table.html rel=noopener><code>Table</code></a> a différentes méthodes qui permettent de lire son contenu ou les informations liées :</p><ul><li><a href=https://processing.org/reference/Table_getRowCount_.html rel=noopener><code>getRowCount()</code></a> renvoie le nombre de lignes, sans inclure la ligne d&rsquo;en-tête s&rsquo;il y en a une, présentes dans la table.</li><li><a href=https://processing.org/reference/Table_getColumnCount_.html rel=noopener><code>getColumnCount()</code></a> renvoie le nombre de colonnes dans la table.</li><li><a href=https://processing.org/reference/Table_getString_.html rel=noopener><code>getString(i, j)</code></a> ou
<a href=https://processing.org/reference/Table_getString_.html rel=noopener><code>getString(i, name)</code></a> renvoie la valeur contenue dans la cellule en ligne <em>i</em>, colonne <em>j</em> (indice) ou <em>name</em> (en-tête) comme
<a href=/stic/cours/10-strings/ rel=noopener class=internal-link data-src=/stic/cours/10-strings/><code>String</code></a>.</li><li><a href=https://processing.org/reference/Table_getFloat_.html rel=noopener><code>getFloat(i, j)</code></a>ou
<a href=https://processing.org/reference/Table_getFloat_.html rel=noopener><code>getFloat(i, name)</code></a> renvoie la valeur contenue dans la cellule en ligne <em>i</em>, colonne <em>j</em> (indice) ou <em>name</em> (en-tête) convertie en <code>float</code>.</li><li><a href=https://processing.org/reference/Table_getInt_.html rel=noopener><code>getInt(i, j)</code></a> ou
<a href=https://processing.org/reference/Table_getInt_.html rel=noopener><code>getInt(i, name)</code></a> renvoie la valeur contenue dans la cellule en ligne <em>i</em>, colonne <em>j</em> (indice) ou <em>name</em> (en-tête) convertie en <code>int</code>.</li></ul><p>Soit le fichier <code>data.csv</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>c1,c2
</span></span><span class=line><span class=cl>a,1
</span></span><span class=line><span class=cl>b,2
</span></span><span class=line><span class=cl>c,3
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Table</span> <span class=n>table</span> <span class=o>=</span> <span class=n>loadTable</span><span class=o>(</span><span class=s>&#34;data.csv&#34;</span><span class=o>,</span> <span class=s>&#34;header&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>println</span><span class=o>(</span><span class=n>table</span><span class=o>.</span><span class=na>getRowCount</span><span class=o>());</span> <span class=c1>// Affiche 3
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>println</span><span class=o>(</span><span class=n>table</span><span class=o>.</span><span class=na>getColumnCount</span><span class=o>());</span> <span class=c1>// Affiche 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>println</span><span class=o>(</span><span class=n>table</span><span class=o>.</span><span class=na>getString</span><span class=o>(</span><span class=n>0</span><span class=o>,</span> <span class=n>0</span><span class=o>));</span> <span class=c1>// Affiche a
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>println</span><span class=o>(</span><span class=n>table</span><span class=o>.</span><span class=na>getInt</span><span class=o>(</span><span class=n>1</span><span class=o>,</span> <span class=s>&#34;c2&#34;</span><span class=o>));</span> <span class=c1>// Affiche 2
</span></span></span></code></pre></td></tr></table></div></div><a href=#ecriture><h3 id=ecriture><span class=hanchor arialabel=Anchor># </span>Ecriture</h3></a><p>Pour modifier directement la valeur de cellules existantes dans la table, on peut utiliser les méthodes :</p><ul><li><a href=https://processing.org/reference/Table_setString_.html rel=noopener><code>setString(i, j, s)</code></a> ou
<a href=https://processing.org/reference/Table_setString_.html rel=noopener><code>setString(i, name, s)</code></a> met la chaîne de caractères <em>s</em> dans la cellule en ligne <em>i</em>, colonne <em>j</em> (indice) ou <em>name</em> (en-tête).</li><li><a href=https://processing.org/reference/Table_setFloat_.html rel=noopener><code>setFloat(i, j, f)</code></a>ou
<a href=https://processing.org/reference/Table_setFloat_.html rel=noopener><code>setFloat(i, name, f)</code></a> met le nombre flottant <em>f</em> dans la cellule en ligne <em>i</em>, colonne <em>j</em> (indice) ou <em>name</em> (en-tête).</li><li><a href=https://processing.org/reference/Table_setInt_.html rel=noopener><code>setInt(i, j, v)</code></a> ou
<a href=https://processing.org/reference/Table_setInt_.html rel=noopener><code>setInt(i, name, v)</code></a> met la valeur entière <em>k</em> dans la cellule en ligne <em>i</em>, colonne <em>j</em> (indice) ou <em>name</em> (en-tête).</li></ul><p>Soit le fichier <code>data.csv</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>c1,c2
</span></span><span class=line><span class=cl>a,1
</span></span><span class=line><span class=cl>b,2
</span></span><span class=line><span class=cl>c,3
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Table</span> <span class=n>table</span> <span class=o>=</span> <span class=n>loadTable</span><span class=o>(</span><span class=s>&#34;data.csv&#34;</span><span class=o>,</span> <span class=s>&#34;header&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>table</span><span class=o>.</span><span class=na>setString</span><span class=o>(</span><span class=n>0</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=s>&#34;aa&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>table</span><span class=o>.</span><span class=na>setInt</span><span class=o>(</span><span class=n>1</span><span class=o>,</span> <span class=s>&#34;c2&#34;</span><span class=o>,</span> <span class=n>22</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>saveTable</span><span class=o>(</span><span class=n>table</span><span class=o>,</span> <span class=s>&#34;data.csv&#34;</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><p>Le fichier <code>data.csv</code> contient maintenant</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>c1,c2
</span></span><span class=line><span class=cl>aa,1
</span></span><span class=line><span class=cl>b,22
</span></span><span class=line><span class=cl>c,3
</span></span></code></pre></td></tr></table></div></div><a href=#tablerow><h3 id=tablerow><span class=hanchor arialabel=Anchor># </span><code>TableRow</code></h3></a><p>On peut accéder directement aux cellules de la table depuis l&rsquo;objet table, de type
<a href=https://processing.org/reference/Table.html rel=noopener><code>Table</code></a>, mais on peut également passer par l&rsquo;étape intermédiaire qui consiste à récupérer l&rsquo;objet représentant une ligne en appelant la méthode
<a href=https://processing.org/reference/Table_getRow_.html rel=noopener><code>getRow(i)</code></a> avec l&rsquo;indice de la ligne voulue. Ces objets &ldquo;lignes&rdquo; sont de type
<a href=https://processing.org/reference/TableRow.html rel=noopener><code>TableRow</code></a>, et on peut les manipuler de façon similaire à la table :</p><ul><li><a href=https://processing.org/reference/TableRow_getColumnCount_.html rel=noopener><code>getColumnCount()</code></a> renvoie le nombre de colonnes dans la ligne.</li><li><a href=https://processing.org/reference/TableRow_getColumnTitle_.html rel=noopener><code>getColumnTitle(j)</code></a> renvoie l&rsquo;en-tête de la colonne d&rsquo;indice <em>j</em></li><li><a href=https://processing.org/reference/TableRow_getString_.html rel=noopener><code>getString(j)</code></a> ou
<a href=https://processing.org/reference/TableRow_getString_.html rel=noopener><code>getString(name)</code></a> renvoie la valeur contenue dans la colonne <em>j</em> (indice) ou <em>name</em> (en-tête) de la ligne, comme
<a href=/stic/cours/10-strings/ rel=noopener class=internal-link data-src=/stic/cours/10-strings/><code>String</code></a>.</li><li><a href=https://processing.org/reference/TableRow_getFloat_.html rel=noopener><code>getFloat(j)</code></a>ou
<a href=https://processing.org/reference/TableRow_getFloat_.html rel=noopener><code>getFloat(name)</code></a> renvoie la valeur contenue dans la colonne <em>j</em> (indice) ou <em>name</em> (en-tête) de la ligne, convertie en <code>float</code>.</li><li><a href=https://processing.org/reference/TableRow_getInt_.html rel=noopener><code>getInt(j)</code></a> ou
<a href=https://processing.org/reference/TableRow_getInt_.html rel=noopener><code>getInt(name)</code></a> renvoie la valeur contenue dans la colonne <em>j</em> (indice) ou <em>name</em> (en-tête) de la ligne, convertie en <code>int</code>.</li><li><a href=https://processing.org/reference/TableRow_setString_.html rel=noopener><code>setString(j, s)</code></a> ou
<a href=https://processing.org/reference/TableRow_setString_.html rel=noopener><code>setString(name, s)</code></a> met la chaîne de caractères <em>s</em> dans la colonne <em>j</em> (indice) ou <em>name</em> (en-tête) de la ligne.</li><li><a href=https://processing.org/reference/TableRow_setFloat_.html rel=noopener><code>setFloat(j, f)</code></a>ou
<a href=https://processing.org/reference/TableRow_setFloat_.html rel=noopener><code>setFloat(name, f)</code></a> met le nombre flottant <em>f</em> dans la colonne <em>j</em> (indice) ou <em>name</em> (en-tête) de la ligne.</li><li><a href=https://processing.org/reference/TableRow_setInt_.html rel=noopener><code>setInt(j, v)</code></a> ou
<a href=https://processing.org/reference/TableRow_setInt_.html rel=noopener><code>setInt(name, v)</code></a> met la valeur entière <em>k</em> dans la colonne <em>j</em> (indice) ou <em>name</em> (en-tête) de la ligne.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>c1,c2
</span></span><span class=line><span class=cl>a,1
</span></span><span class=line><span class=cl>b,2
</span></span><span class=line><span class=cl>c,3
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Table</span> <span class=n>table</span> <span class=o>=</span> <span class=n>loadTable</span><span class=o>(</span><span class=s>&#34;data.csv&#34;</span><span class=o>,</span> <span class=s>&#34;header&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>TableRow</span> <span class=n>row1</span> <span class=o>=</span> <span class=n>table</span><span class=o>.</span><span class=na>getRow</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>TableRow</span> <span class=n>row2</span> <span class=o>=</span> <span class=n>table</span><span class=o>.</span><span class=na>getRow</span><span class=o>(</span><span class=n>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>row1</span><span class=o>.</span><span class=na>setString</span><span class=o>(</span><span class=n>0</span><span class=o>,</span> <span class=s>&#34;aa&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>row2</span><span class=o>.</span><span class=na>setInt</span><span class=o>(</span><span class=s>&#34;c2&#34;</span><span class=o>,</span> <span class=n>22</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>saveTable</span><span class=o>(</span><span class=n>table</span><span class=o>,</span> <span class=s>&#34;data.csv&#34;</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><p>Le fichier <code>data.csv</code> contient maintenant</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>c1,c2
</span></span><span class=line><span class=cl>aa,1
</span></span><span class=line><span class=cl>b,22
</span></span><span class=line><span class=cl>c,3
</span></span></code></pre></td></tr></table></div></div><a href=#structure><h3 id=structure><span class=hanchor arialabel=Anchor># </span>Structure</h3></a><p>Pour modifier la structure d&rsquo;une table, on peut utiliser les méthodes :</p><ul><li><a href=https://processing.org/reference/Table_addRow_.html rel=noopener><code>addRow()</code></a> ajoute une nouvelle ligne (vide), tout en bas de la table. La ligne créée (
<a href=https://processing.org/reference/TableRow.html rel=noopener><code>TableRow</code></a>) est renvoyée. Si on passe une autre
<a href=https://processing.org/reference/TableRow.html rel=noopener><code>TableRow</code></a> en paramètre, la nouvelle ligne créée contiendra alors une copie des données de la ligne passée en paramètre.</li><li><a href=https://processing.org/reference/Table_removeRow_.html rel=noopener><code>removeRow(i)</code></a> supprime la ligne à l&rsquo;indice <em>i</em> dans la table.</li><li><a href=https://processing.org/reference/Table_addColumn_.html rel=noopener><code>addColumn()</code></a> ajoute une nouvelle colonne, vide pour chaque ligne, à droite de la table. Si on passe en paramètre le nom de la colonne, il s&rsquo;agira de l&rsquo;en-tête qui pourra ensuite être utilisée pour plus facilement accéder aux éléments de cette colonne. On peut éventuellement passer un deuxième paramètre correspondant au type de données attendu dans la colonne ; <code>Table.INT</code>, <code>Table.FLOAT</code> et <code>Table.STRING</code> (défaut).</li><li><a href=https://processing.org/reference/Table_removeColumn_.html rel=noopener><code>removeColumn(j)</code></a> ou
<a href=https://processing.org/reference/Table_removeColumn_.html rel=noopener><code>removeColumn(name)</code></a> supprime la colonne à l&rsquo;indice <em>j</em> ou avec le nom <em>name</em> spécifié en paramètre.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Table</span> <span class=n>table</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Table</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=n>table</span><span class=o>.</span><span class=na>addColumn</span><span class=o>(</span><span class=s>&#34;a&#34;</span><span class=o>);</span> <span class=c1>// On ajoute une colonne a
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>table</span><span class=o>.</span><span class=na>addColumn</span><span class=o>(</span><span class=s>&#34;b&#34;</span><span class=o>);</span> <span class=c1>// On ajoute une colonne b
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>table</span><span class=o>.</span><span class=na>addColumn</span><span class=o>(</span><span class=s>&#34;c&#34;</span><span class=o>);</span> <span class=c1>// On ajoute une colonne c
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>table</span><span class=o>.</span><span class=na>removeColumn</span><span class=o>(</span><span class=s>&#34;a&#34;</span><span class=o>);</span> <span class=c1>// On retire la colonne a
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>table</span><span class=o>.</span><span class=na>removeColumn</span><span class=o>(</span><span class=n>1</span><span class=o>);</span> <span class=c1>// On retire la deuxième colonne, c
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>table</span><span class=o>.</span><span class=na>addColumn</span><span class=o>(</span><span class=s>&#34;d&#34;</span><span class=o>);</span> <span class=c1>// On ajoute la colonne d
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// On a donc une table avec deux colonnes, b et d
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>TableRow</span> <span class=n>firstRow</span> <span class=o>=</span> <span class=n>table</span><span class=o>.</span><span class=na>addRow</span><span class=o>();</span> <span class=c1>// Première ligne
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>firstRow</span><span class=o>.</span><span class=na>setString</span><span class=o>(</span><span class=s>&#34;b&#34;</span><span class=o>,</span> <span class=s>&#34;test&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>firstRow</span><span class=o>.</span><span class=na>setInt</span><span class=o>(</span><span class=s>&#34;d&#34;</span><span class=o>,</span> <span class=n>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>table</span><span class=o>.</span><span class=na>addRow</span><span class=o>(</span><span class=n>firstRow</span><span class=o>);</span> <span class=c1>// On rajoute une deuxième ligne qui contient les mêmes valeurs que la première
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>table</span><span class=o>.</span><span class=na>setInt</span><span class=o>(</span><span class=n>1</span><span class=o>,</span> <span class=s>&#34;d&#34;</span><span class=o>,</span> <span class=n>2</span><span class=o>);</span> <span class=c1>// On met la valeur 2 dans la colonne d de la deuxième ligne
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>saveTable</span><span class=o>(</span><span class=n>table</span><span class=o>,</span> <span class=s>&#34;random.csv&#34;</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><p>On obtient alors un fichier <code>random.csv</code> contenant :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>b,d
</span></span><span class=line><span class=cl>test,1
</span></span><span class=line><span class=cl>test,2
</span></span></code></pre></td></tr></table></div></div><a href=#tri><h3 id=tri><span class=hanchor arialabel=Anchor># </span>Tri</h3></a><p>On peut facilement trier une table en appelant la méthode
<a href=https://processing.org/reference/Table_sort_.html rel=noopener><code>sort</code></a> avec en paramètre l&rsquo;indice ou le nom de la colonne à trier. Les lignes de la table seront alors réorganisées selon l&rsquo;ordre croissant des valeurs apparaissant dans cette colonne.</p><p>Pour des tris plus complexes qui demandent de comparer plusieurs colonnes, il faudra définir la comparaison adéquate et implémenter un algorithme de tri.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>Table</span> <span class=n>table</span> <span class=o>=</span> <span class=n>loadTable</span><span class=o>(</span><span class=s>&#34;data.csv&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Bubble sort
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=n>table</span><span class=o>.</span><span class=na>getRowCount</span><span class=o>()-</span><span class=n>1</span><span class=o>;</span> <span class=n>k</span> <span class=o>&gt;</span> <span class=n>0</span><span class=o>;</span> <span class=n>k</span><span class=o>--)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>k</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>TableRow</span> <span class=n>row1</span> <span class=o>=</span> <span class=n>table</span><span class=o>.</span><span class=na>getRow</span><span class=o>(</span><span class=n>i</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=n>TableRow</span> <span class=n>row2</span> <span class=o>=</span> <span class=n>table</span><span class=o>.</span><span class=na>getRow</span><span class=o>(</span><span class=n>i</span> <span class=o>+</span> <span class=n>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=o>(</span><span class=n>compare</span><span class=o>(</span><span class=n>row1</span><span class=o>,</span> <span class=n>row2</span><span class=o>)</span> <span class=o>&gt;</span> <span class=n>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// La ligne i devrait être après la ligne i + 1
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// On les échange
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>swapRows</span><span class=o>(</span><span class=n>table</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>i</span> <span class=o>+</span> <span class=n>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>compare</span><span class=o>(</span><span class=n>TableRow</span> <span class=n>row1</span><span class=o>,</span> <span class=n>TableRow</span> <span class=n>row2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Implémenter la comparaison
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>swapRows</span><span class=o>(</span><span class=n>Table</span> <span class=n>t</span><span class=o>,</span> <span class=kt>int</span> <span class=n>i1</span><span class=o>,</span> <span class=kt>int</span> <span class=n>i2</span><span class=o>)</span> <span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>t</span><span class=o>.</span><span class=na>getColumnCount</span><span class=o>();</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=n>String</span> <span class=n>swapped</span> <span class=o>=</span> <span class=n>t</span><span class=o>.</span><span class=na>getString</span><span class=o>(</span><span class=n>i1</span><span class=o>,</span> <span class=n>j</span><span class=o>);</span> 
</span></span><span class=line><span class=cl>    <span class=n>t</span><span class=o>.</span><span class=na>setString</span><span class=o>(</span><span class=n>i1</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=n>t</span><span class=o>.</span><span class=na>getString</span><span class=o>(</span><span class=n>i2</span><span class=o>,</span> <span class=n>j</span><span class=o>));</span> 
</span></span><span class=line><span class=cl>    <span class=n>t</span><span class=o>.</span><span class=na>setString</span><span class=o>(</span><span class=n>i2</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=n>swapped</span><span class=o>);</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><table class=class-nav><tr><td align=left><a href=/stic/cours/14-images-pixels/ data-src=/stic/cours/14-images-pixels/><div class=class-link-container-left><div class=icon><span><i class="fas fa-chevron-left"></i></span></div><div class=header>Leçon précédente</div><div class=link>14 - Images et pixels</div></div></a></td><td align=right></td></tr></table></article><hr><div class=page-end><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/stic/ data-ctx="15 - Tables" data-src=/ class=internal-link>Algorithmes et Programmation</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://mnnlgrnd.github.io/stic/js/graph.5388a070919094961d3e5151252e9065.js></script></div></div><div id=contact_buttons><footer><p>Made by Manon Legrand using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2022</p><ul><li><a href=/stic>Home</a></li><li><a href=https://openprocessing.org/sketch/1592113>About me</a></li></ul></footer></div></div></body></html>